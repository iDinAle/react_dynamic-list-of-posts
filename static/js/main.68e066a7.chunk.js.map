{"version":3,"sources":["api/getPostsFromServer.js","api/getUsersFromServer.js","api/getCommentsFromServer.js","components/User.js","components/Comment.js","components/CommentList.js","components/Post.js","components/PostList.js","App.js","helpers/debounce.js","index.js"],"names":["getPostsFromServer","response","regenerator_default","a","async","_context","prev","next","awrap","fetch","sent","abrupt","json","stop","getUsersFromServer","getCommentsFromServer","User","_ref","name","email","address","react_default","createElement","className","concat","city","Comment","body","CommentList","list","map","item","components_Comment","Object","assign","key","id","Post","highlightedText","title","user","comments","highlightText","text","split","RegExp","part","i","react","toLowerCase","components_User","components_CommentList","PostList","posts","highlightedSearchResult","post","components_Post","App","allData","_useState","useState","_useState2","slicedToArray","combinedPosts","setCombinedPosts","_useState3","_useState4","originalPosts","setOriginalPosts","_useState5","_useState6","isLoaded","setLoaded","_useState7","_useState8","isLoading","setLoading","_useState9","_useState10","isError","setError","_useState11","_useState12","searchValue","setInputValue","applySearchWithDebounce","f","delay","timer","clearTimeout","_len","arguments","length","args","Array","_key","setTimeout","apply","debounce","value","filter","_ref3","includes","Fragment","type","placeholder","onChange","_ref4","target","slice","components_PostList","onClick","_ref2","postsData","usersData","commentsData","Promise","all","objectSpread2","find","userId","comment","postId","t0","disabled","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.68e066a7.chunk.js","sourcesContent":["const POSTS_URL = 'https://jsonplaceholder.typicode.com/posts';\n\nexport const getPostsFromServer = async() => {\n  const response = await fetch(POSTS_URL);\n\n  return response.json();\n};\n","const USERS_URL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsersFromServer = async() => {\n  const response = await fetch(USERS_URL);\n\n  return response.json();\n};\n","const COMMENTS_URL = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const getCommentsFromServer = async() => {\n  const response = await fetch(COMMENTS_URL);\n\n  return response.json();\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ name, email, address }) => (\n  <div className=\"user post__user\">\n    <h3 className=\"user__name\">{`Author: ${name}`}</h3>\n    <p className=\"user__email\">{`email: ${email}`}</p>\n    <p className=\"user__city\">{`city: ${address.city}`}</p>\n  </div>\n);\n\nUser.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  address: PropTypes.shape({\n    city: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ name, email, body }) => (\n  <div className=\"comment\">\n    <h3 className=\"comment__title\">{`Comment: ${name}`}</h3>\n    <p className=\"comment__content\">{body}</p>\n    <p className=\"comment__user-email\">{email}</p>\n  </div>\n);\n\nComment.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n};\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment';\n\nconst CommentList = ({ list }) => (\n  <div className=\"post__comments-container\">\n    {list.map(\n      item => <Comment key={item.id} {...item} />\n    )}\n  </div>\n);\n\nCommentList.propTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n};\n\nexport default CommentList;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ highlightedText, id, title, body, user, comments }) => {\n  const highlightText = (text) => {\n    if (!highlightedText) {\n      return text;\n    }\n\n    const parts = text.split(new RegExp(`(${highlightedText})`, 'gi'));\n\n    return parts.map((part, i) => (\n      <Fragment key={`${part + i}`}>\n        {part.toLowerCase() === highlightedText.toLowerCase()\n          ? <span className=\"highlighted-text\">{part}</span>\n          : part}\n      </Fragment>\n    ));\n  };\n\n  return (\n    <article className=\"post\">\n      <div className=\"post__container\">\n        <article className=\"post__information\">\n          <p className=\"post__number\">{`Post ${id}:`}</p>\n\n          <h2 className=\"post__title\">\n            {highlightText(title)}\n          </h2>\n\n          <p className=\"post__content\">\n            {highlightText(body)}\n          </p>\n        </article>\n\n        <User {...user} />\n      </div>\n\n      <CommentList list={comments} />\n    </article>\n  );\n};\n\nPost.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    address: PropTypes.object,\n  }).isRequired,\n  comments: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  highlightedText: PropTypes.string.isRequired,\n};\n\nexport default Post;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Post from './Post';\n\nconst PostList = ({ posts, highlightedSearchResult }) => (\n  <div className=\"posts-container\">\n    {posts.map(\n      post => (\n        <Post\n          highlightedText={highlightedSearchResult}\n          key={post.id}\n          {...post}\n        />\n      )\n    )}\n  </div>\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n  highlightedSearchResult: PropTypes.string.isRequired,\n};\n\nexport default PostList;\n","import React, { useState } from 'react';\nimport './App.scss';\nimport { getPostsFromServer } from './api/getPostsFromServer';\nimport { getUsersFromServer } from './api/getUsersFromServer';\nimport { getCommentsFromServer } from './api/getCommentsFromServer';\nimport { debounce } from './helpers/debounce';\nimport PostList from './components/PostList';\n\nconst App = () => {\n  const [combinedPosts, setCombinedPosts] = useState([]);\n  const [originalPosts, setOriginalPosts] = useState([]);\n  const [isLoaded, setLoaded] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [isError, setError] = useState(false);\n  const [searchValue, setInputValue] = useState('');\n\n  let allData;\n\n  const loadData = async() => {\n    setLoading(true);\n\n    try {\n      const [postsData, usersData, commentsData] = await Promise.all([\n        getPostsFromServer(),\n        getUsersFromServer(),\n        getCommentsFromServer(),\n      ]);\n\n      allData = postsData.map(\n        post => ({\n          ...post,\n          user: usersData.find(\n            user => post.userId === user.id\n          ),\n          comments: commentsData.filter(\n            comment => post.id === comment.postId\n          ),\n        })\n      );\n\n      setOriginalPosts(allData);\n      setCombinedPosts(allData);\n      setLoading(false);\n      setLoaded(true);\n    } catch (e) {\n      setLoading(false);\n      setError(true);\n    }\n  };\n\n  const applySearchWithDebounce = debounce(value => setCombinedPosts(\n    originalPosts.filter(\n      ({ title, body }) => (title + body).toLowerCase().includes(value)\n    )\n  ), 500);\n\n  const searchPosts = ({ target }) => {\n    const value = target.value.toLowerCase().slice(0, 37);\n\n    setInputValue(value);\n    applySearchWithDebounce(value);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"main-title\">Dynamic list of posts</h1>\n\n      {isLoaded ? (\n        <>\n          <input\n            type=\"search\"\n            className=\"posts-search\"\n            placeholder=\"Search for posts\"\n            onChange={searchPosts}\n            value={searchValue}\n          />\n\n          <PostList\n            posts={combinedPosts}\n            highlightedSearchResult={searchValue}\n          />\n        </>\n      ) : (\n        <>\n          <h2 className=\"sub-title\">\n            {isError ? ('Error occured!!!') : ('No PostsList yet!')}\n          </h2>\n\n          <button\n            className=\"load-btn\"\n            type=\"button\"\n            onClick={loadData}\n            disabled={isLoading}\n          >\n            {isLoading ? 'Loading...' : 'Load TodoList'}\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","export const debounce = (f, delay) => {\n  let timer;\n\n  return (...args) => {\n    clearTimeout(timer);\n\n    timer = setTimeout(f, delay, ...args);\n  };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}